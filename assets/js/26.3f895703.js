(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{224:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"浏览器-dom-事件与事件监听"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#浏览器-dom-事件与事件监听"}},[t._v("#")]),t._v(" 浏览器 DOM 事件与事件监听")]),t._v(" "),a("p",[t._v("事件驱动是"),a("code",[t._v("JavaScript")]),t._v("作为一种脚本语言的特质之一，而事件则是"),a("code",[t._v("JavaScript")]),t._v("和"),a("code",[t._v("HTML")]),t._v("交互的基础。用户想要与任何的浏览器页面进行交互，都要通过绑定相应的事件。")]),t._v(" "),a("p",[t._v("DOM 事件分为"),a("code",[t._v("DOM0")]),t._v("、"),a("code",[t._v("DOM2")]),t._v("和"),a("code",[t._v("DOM3")]),t._v("三种（没错，没有"),a("code",[t._v("DOM1")]),t._v("）")]),t._v(" "),a("h2",{attrs:{id:"dom0"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dom0"}},[t._v("#")]),t._v(" DOM0")]),t._v(" "),a("p",[t._v("DOM0 就是直接通过"),a("code",[t._v("onclick/onchange")]),t._v("等事件属性写在 HTML 中的事件\n比如：")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("btn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("onclick")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("alert('DOM0')"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[t._v("或者：")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" button "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"btn"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nbutton"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onclick")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"DOM0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("值得注意的是，清理 DOM0 事件的时候，只需要给该事件赋值为"),a("code",[t._v("null")])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("button"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("onclick "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("而且同一个 HTML 元素只能绑定一个同种事件类型的函数，否则后面的函数会覆盖之前的事件处理函数")]),t._v(" "),a("h2",{attrs:{id:"dom2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dom2"}},[t._v("#")]),t._v(" DOM2")]),t._v(" "),a("p",[t._v("DOM2 是通过"),a("code",[t._v("addEventListener")]),t._v("绑定的事件，它增加了许多 DOM1 不支持的新模块。因为浏览器的兼容性问题，在 IE 下 DOM2 事件通过"),a("code",[t._v("attchEvent")]),t._v("绑定")]),t._v(" "),a("p",[t._v("DOM2 事件中同一个元素的同种事件可以绑定多个事件处理函数，按照绑定顺序依次执行，而清除 DOM2 事件则需要使用"),a("code",[t._v("removeEventListener/detachEvent")]),t._v("传入函数清除指定函数（所以要移除事件请确保注册事件监听时传入的函数为"),a("strong",[t._v("外部函数")]),t._v("，而不是"),a("strong",[t._v("匿名函数")]),t._v("）")]),t._v(" "),a("p",[t._v("比如：")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fnA")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fnB")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 绑定事件")]),t._v("\nbutton"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'click'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" fnA"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nbutton"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'click'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" fnB"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 移除事件")]),t._v("\nbutton"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'click'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" fnA"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("DOM2 级事件有三个参数：")]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("type")]),t._v(" 事件名，如"),a("code",[t._v("click, change")])])]),t._v(" "),a("li",[a("p",[a("code",[t._v("listener")]),t._v(" 事件处理函数")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("options")]),t._v(" "),a("strong",[t._v("可选")])]),t._v(" "),a("p",[t._v("一个指定有关 listener 属性的可选参数对象。可用的选项如下：")]),t._v(" "),a("ul",[a("li",[t._v("capture: Boolean，表示 listener 会在该类型的事件捕获阶段传播到该 EventTarget 时触发。")]),t._v(" "),a("li",[t._v("once: Boolean，表示 listener 在添加之后最多只调用一次。如果是 true， listener 会在其被调用之后自动移除。")]),t._v(" "),a("li",[t._v("passive: Boolean，设置为 true 时，表示 listener 永远不会调用 preventDefault()。如果 listener 仍然调用了这个函数，客户端将会忽略它并抛出一个控制台警告。")])])]),t._v(" "),a("li",[a("p",[a("code",[t._v("useCapture")]),t._v(" "),a("strong",[t._v("可选")])]),t._v(" "),a("p",[t._v("代表事件执行/移除的阶段，"),a("code",[t._v("true")]),t._v("表示在捕获阶段，"),a("code",[t._v("false")]),t._v("表示在冒泡阶段，"),a("code",[t._v("addEventListener")]),t._v("中该参数默认为"),a("code",[t._v("false")]),t._v("，值得注意的是："),a("strong",[t._v("如果你在冒泡阶段和捕获阶段同时绑定了事件，那么移除事件的时候需要选择阶段单独移除")])])])]),t._v(" "),a("blockquote",[a("p",[a("strong",[t._v("此处要先介绍一下什么是事件流")])])]),t._v(" "),a("h3",{attrs:{id:"事件流"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#事件流"}},[t._v("#")]),t._v(" 事件流")]),t._v(" "),a("p",[t._v("事件流描述的就是从页面中接收事件的顺序。而 IE 和 Netscape 提出了完全相反的事件流概念。IE 事件流是事件冒泡，而 Netscape 的事件流就是事件捕获。")]),t._v(" "),a("h3",{attrs:{id:"事件冒泡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#事件冒泡"}},[t._v("#")]),t._v(" 事件冒泡")]),t._v(" "),a("p",[t._v("IE 的事件流叫做事件冒泡。即事件开始时由最具体的元素（文档中嵌套层次最深的那个节点）接收，然后逐级向上传播到较为不具体的节点（文档）。所有现代浏览器都支持事件冒泡，并且会将事件一直冒泡到"),a("code",[t._v("window")]),t._v("对象。")]),t._v(" "),a("div",{attrs:{align:"center"}},[a("img",{attrs:{src:"/Learning-notes/img/dom-event/bubbling.png"}})]),t._v(" "),a("h3",{attrs:{id:"事件捕获"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#事件捕获"}},[t._v("#")]),t._v(" 事件捕获")]),t._v(" "),a("p",[t._v("事件捕获的思想是不太具体的节点应该更早的接收到事件，而在最具体的节点应该最后接收到事件。事件捕获的用以在于事件到达预定目标之前捕获它。IE9+、Safari、Chrome、Opera 和 Firefox 支持，且从"),a("code",[t._v("window")]),t._v("开始捕获（尽管 DOM2 级事件规范要求从"),a("code",[t._v("document")]),t._v("）。由于老版本浏览器不支持，所以很少有人使用事件捕获。")]),t._v(" "),a("div",{attrs:{align:"center"}},[a("img",{attrs:{src:"/Learning-notes/img/dom-event/capturing.png"}})]),t._v(" "),a("h3",{attrs:{id:"dom2-事件流"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dom2-事件流"}},[t._v("#")]),t._v(" DOM2 事件流")]),t._v(" "),a("p",[t._v("DOM2 级事件规定事件流包括三个阶段，事件捕获阶段、处于目标阶段和事件冒泡阶段。首先发生的事件捕获，为截获事件提供了机会；然后是实际的目标接收了事件；最后一个阶段是冒泡阶段，可以在这个阶段对事件做出响应。我们可以通过设置"),a("code",[t._v("addEventListener")]),t._v("的第三个参数来决定是在捕获阶段还是冒泡阶段执行事件。")]),t._v(" "),a("div",{attrs:{align:"center"}},[a("img",{attrs:{src:"/Learning-notes/img/dom-event/event-stream.png"}})]),t._v(" "),a("blockquote",[a("p",[a("strong",[t._v("我们一般注册事件监听都是在事件冒泡阶段，因为它可以帮我们实现事件委托。")])])]),t._v(" "),a("p",[t._v("值得注意的是，事件 handler 的第一个参数事件对象 e 的 e.currentTarget 属性指向绑定事件的 DOM 元素，而 e.target 则是指向触发事件的 DOM 元素，两者在事件委托的模式下可能并不相等。")]),t._v(" "),a("h2",{attrs:{id:"dom3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dom3"}},[t._v("#")]),t._v(" DOM3")]),t._v(" "),a("p",[t._v("DOM3 进一步扩展了 DOM，在 DOM3 中引入了以下模块：")]),t._v(" "),a("ul",[a("li",[t._v("DOM 加载和保存模块（DOM Load and Save）：引入了以统一方式加载和保存文档的方法")]),t._v(" "),a("li",[t._v("DOM 验证模块（DOM Validation）：定义了验证文档的方法")]),t._v(" "),a("li",[t._v("DOM 核心的扩展（DOM Style）：支持 XML 1.0 规范，涉及 XML Infoset、XPath 和 XML Base")]),t._v(" "),a("li",[a("strong",[t._v("自定义事件")])])]),t._v(" "),a("h3",{attrs:{id:"dom-中的自定义事件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dom-中的自定义事件"}},[t._v("#")]),t._v(" DOM 中的自定义事件")]),t._v(" "),a("p",[t._v("DOM3 级还定义了自定义事件，自定义事件不是由 DOM 原生触发的，它的目的是让开发人员创建自己的事件。要创建的自定义事件可以由 new Event(typeArg, eventInit)创建，其中 eventInit(可选)是个 options 对象，接收如下字段：")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("bubbles")]),t._v(" 可选，Boolean 类型，默认值为 false，表示该事件是否冒泡。")]),t._v(" "),a("li",[a("strong",[t._v("cancelable")]),t._v(" 可选，Boolean 类型，默认值为 false， 表示该事件能否被取消。")]),t._v(" "),a("li",[a("strong",[t._v("composed")]),t._v(" 可选，Boolean 类型，默认值为 false，指示事件是否会在影子 DOM 根节点之外触发侦听器。")])]),t._v(" "),a("p",[t._v("示例如下：")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("implementation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("hasFeature")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"CustomEvents"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"3.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建一个支持冒泡且不能被取消的myEvent事件")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" e "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Event")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"myEvent"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" bubbles"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" cancelable"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("dispatchEvent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 这样document就会在执行这段代码后执行myEvent事件处理函数")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 事件可以在任何元素触发，不仅仅是document")]),t._v("\n  myDiv"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("dispatchEvent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  myDiv"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"myEvent"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"div myEvent!"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"事件对象-event"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#事件对象-event"}},[t._v("#")]),t._v(" 事件对象 Event")]),t._v(" "),a("h3",{attrs:{id:"event-常见属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#event-常见属性"}},[t._v("#")]),t._v(" Event 常见属性")]),t._v(" "),a("ul",[a("li",[a("p",[a("strong",[t._v("Event.bubbles")]),t._v(" 一个布尔值，用来表示该事件是否在 DOM 中冒泡。")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("Event.cancelable")]),t._v(" 一个布尔值，用来表示这个事件是否可以取消。")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("Event.target")]),t._v(": 触发事件的元素的引用")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("Event.currentTarget")]),t._v(": 注册事件的元素的引用")]),t._v(" "),a("p",[t._v("currentTarget 在事件传递过程中是可以改变的，比如")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("hide")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("currentTarget"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("visibility "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hidden"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("currentTarget"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 该函数用作事件处理器时: this === e.currentTarget")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" ps "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementsByTagName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"p"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" ps"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// console: 打印被点击的p元素")]),t._v("\n  ps"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"click"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" hide"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// console: 打印body元素")]),t._v("\ndocument"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"click"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" hide"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("Event.relatedTarget")]),t._v(": 对于 mouseover/mouseout 有用，指的是鼠标over时离开的目标/鼠标out时进入的目标，对于其他事件则没有意义")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("Event.eventPhase")]),t._v("  指示事件流正在处理哪个阶段。")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("0")]),t._v(" "),a("p",[t._v("这个时间，没有事件正在被处理")])]),t._v(" "),a("li",[a("p",[t._v("1")]),t._v(" "),a("p",[t._v("事件正在被目标元素的祖先对象处理. 这个处理过程从 Window 开始，然后 Document, 然后是 HTMLHtmlElement, 一直这样，直到目标元素的父元素。 通过 EventTarget.addEventListener() 注册为捕获模式的 Event listeners 被调用。")])]),t._v(" "),a("li",[a("p",[t._v("2")]),t._v(" "),a("p",[t._v("事件对象已经抵达 the event's target. 为这个阶段注册的事件监听被调用。 如果 Event.bubbles 的值为 false, 对事件对象的处理在这个阶段后就会结束.")])]),t._v(" "),a("li",[a("p",[t._v("3\n事件对象逆向向上传播回目标元素的祖先元素, 从父亲元素开始，并且最终到达包含元素 Window. 这就是冒泡，并且只有 Event.bubbles 值为 true 的时候才会发生。 为这个阶段注册的 Event listeners 在这个过程中被触发。")])])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("Event.isTrusted")])]),t._v(" "),a("p",[t._v("指明事件是否是由浏览器（当用户点击实例后）或者由脚本（使用事件的创建方法，例如 event.initEvent）启动。")])])]),t._v(" "),a("h3",{attrs:{id:"event-常见方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#event-常见方法"}},[t._v("#")]),t._v(" Event 常见方法")]),t._v(" "),a("ul",[a("li",[a("p",[a("strong",[t._v("Event.initEvent")]),t._v(" 通过 DocumentEvent 的接口给被创建的事件初始化某些值。")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("Event.preventDefault")]),t._v(" 取消事件（如果该事件可取消）。")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("Event.stopPropagation")]),t._v(" 停止事件冒泡。")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);